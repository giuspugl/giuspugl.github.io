<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Code Documentation &mdash; MCMole3D alpha documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="MCMole3D alpha documentation" href="index.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">MCMole3D</a></div>
        <div class="rel">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="code-documentation">
<h1>Code Documentation<a class="headerlink" href="#code-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-cloudmodel.MCMole3D">
<span id="cloudmodel-mcmole3d-module"></span><h2>cloudmodel.MCMole3D module<a class="headerlink" href="#module-cloudmodel.MCMole3D" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cloudmodel.MCMole3D.Cloud">
<em class="property">class </em><tt class="descclassname">cloudmodel.MCMole3D.</tt><tt class="descname">Cloud</tt><big>(</big><em>idcloud</em>, <em>x1</em>, <em>x2</em>, <em>x3</em>, <em>size=None</em>, <em>em=None</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>Object encoding the properties of each cloud, i.e.:</p>
<ul class="simple">
<li><span class="math">\((R,\phi, z )\)</span> the Galactic coordinates of the center of the cloud, in units of <span class="math">\((kpc, rad, kpc)\)</span>;</li>
<li><span class="math">\((d_{\odot},\ell, b )\)</span> the position referred in the Solar system frame in units of <span class="math">\((kpc, rad,rad)\)</span>;</li>
<li><span class="math">\(\epsilon\)</span>, the emissivity in the center in units of <span class="math">\(K km/s\)</span></li>
<li><span class="math">\(L\)</span> the cloud size in units of <span class="math">\(pc\)</span></li>
</ul>
<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud.assign_sun_coord">
<tt class="descname">assign_sun_coord</tt><big>(</big><em>d</em>, <em>latit</em>, <em>longit</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud.assign_sun_coord"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud.assign_sun_coord" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud.emissivity">
<tt class="descname">emissivity</tt><big>(</big><em>R</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud.emissivity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud.emissivity" title="Permalink to this definition">¶</a></dt>
<dd><p>replicating the profile in  eq.(3) of <a class="reference external" href="http://arxiv.org/abs/1701.07856">Puglisi+ 2017</a></p>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud.print_cloudinfo">
<tt class="descname">print_cloudinfo</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud.print_cloudinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud.print_cloudinfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud.size_function">
<tt class="descname">size_function</tt><big>(</big><em>R</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud.size_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud.size_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the size in a very wide range of cloud sizes  <span class="math">\([s_1,s_2] pc\)</span>, from random numbers following
the probability distribution function coming from the cloud size function eq.(4) of
<a class="reference external" href="http://arxiv.org/abs/1701.07856">Puglisi+ 2017</a>.
We split it  in two parts :</p>
<ul class="simple">
<li>if <span class="math">\(L&gt;s_0\)</span>  a decreasing power-law distribution has been assumed with spectral index <span class="math">\(a_L=0.8\)</span> (see Heyer Dame 2015).</li>
<li>Otherwise  In the outer Galaxy a lower spectral index has been measured  <span class="math">\(a_L=3.3\)</span>, whereas in the inner Galaxy a steeper one  <span class="math">\(a_L=3.9\)</span>.</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudmodel.MCMole3D.Cloud_Population">
<em class="property">class </em><tt class="descclassname">cloudmodel.MCMole3D.</tt><tt class="descname">Cloud_Population</tt><big>(</big><em>N_clouds</em>, <em>model</em>, <em>randseed=False</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>class encoding  a list of <cite>Clouds</cite> objects. It is initialized by setting the total
number of clouds and the geometry you may want to distribute them.
It contains <cite>N_clouds</cite> <a class="reference internal" href="#cloudmodel.MCMole3D.Cloud" title="cloudmodel.MCMole3D.Cloud"><tt class="xref py py-class docutils literal"><span class="pre">Cloud</span></tt></a> objects.</p>
<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.cartesianize_coordinates">
<tt class="descname">cartesianize_coordinates</tt><big>(</big><em>array</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.cartesianize_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.cartesianize_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>convert arrays of cylindrical ( spherical if a Spherical distribution is chosen  ) coordinates to cartesian ones.
It exploits <tt class="xref py py-mod docutils literal"><span class="pre">astropy</span></tt> routines.</p>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.compute_healpix_vec">
<tt class="descname">compute_healpix_vec</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.compute_healpix_vec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.compute_healpix_vec" title="Permalink to this definition">¶</a></dt>
<dd><p>convert galactic latitude and longitude positions  in <tt class="xref py py-mod docutils literal"><span class="pre">healpy</span></tt> mapping quantinties: position vectors.</p>
</dd></dl>

<dl class="attribute">
<dt id="cloudmodel.MCMole3D.Cloud_Population.emissivity">
<tt class="descname">emissivity</tt><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.emissivity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.emissivity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.get_pop_emissivities_sizes">
<tt class="descname">get_pop_emissivities_sizes</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.get_pop_emissivities_sizes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.get_pop_emissivities_sizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Looping into the clouds of this class it returns the emissivity and size of each cloud.</p>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.heliocentric_coordinates">
<tt class="descname">heliocentric_coordinates</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.heliocentric_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.heliocentric_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>convert Galactocentric coordinates to heliocentric ones</p>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.initialize_cloud_population_from_output">
<tt class="descname">initialize_cloud_population_from_output</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.initialize_cloud_population_from_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.initialize_cloud_population_from_output" title="Permalink to this definition">¶</a></dt>
<dd><p>read from an hdf5 output file the cloud catalog and assign values</p>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.plot_3d_population">
<tt class="descname">plot_3d_population</tt><big>(</big><em>figname=None</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.plot_3d_population"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.plot_3d_population" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes density contour plots of all the cloud population.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Set <cite>figname</cite> to the path of your file where  to  save the plot, otherwise  it outputs to screen.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.plot_histogram_population">
<tt class="descname">plot_histogram_population</tt><big>(</big><em>figname=None</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.plot_histogram_population"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.plot_histogram_population" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes histograms of all over the population of clouds to check the probability
density functions (PDF) of the coordinates <span class="math">\(R_{gal}, z, d_{\odot}, \ell\)</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Set <cite>figname</cite> to the path of your file where  to  save the plot, otherwise  it outputs to screen.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.plot_radial">
<tt class="descname">plot_radial</tt><big>(</big><em>X</em>, <em>ylabel</em>, <em>figname=None</em>, <em>color='b'</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.plot_radial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.plot_radial" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a quantity <cite>X</cite> which may variates across the Galactic radius <span class="math">\(R_{gal}\)</span>.
(e.g.  the midplane thickness, the emissivity profile,etc...)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Set <cite>figname</cite> to the path of your file where  to  save the plot, otherwise  it outputs to screen.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.print_parameters">
<tt class="descname">print_parameters</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.print_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.print_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>print the parameters set for  the simulation</p>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.print_pop">
<tt class="descname">print_pop</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.print_pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.print_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Output on screen the whole Monte-Carlo catalogue of molecular clouds</p>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.read_pop_fromhdf5">
<tt class="descname">read_pop_fromhdf5</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.read_pop_fromhdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.read_pop_fromhdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Read from an hdf5 file the cloud population. the <a class="reference internal" href="#cloudmodel.MCMole3D.Cloud_Population" title="cloudmodel.MCMole3D.Cloud_Population"><tt class="xref py py-class docutils literal"><span class="pre">Cloud_Population</span></tt></a> is thus  initialized by <a class="reference internal" href="#cloudmodel.MCMole3D.Cloud_Population.initialize_cloud_population_from_output" title="cloudmodel.MCMole3D.Cloud_Population.initialize_cloud_population_from_output"><tt class="xref py py-func docutils literal"><span class="pre">initialize_cloud_population_from_output()</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.set_parameters">
<tt class="descname">set_parameters</tt><big>(</big><em>radial_distr=[5.3, 2.5, 3], emissivity=[60, 3.59236], thickness_distr=[0.1, 9.0], typical_size=10.0, size_range=[0.3, 30]</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.set_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.set_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set key-parameters to the population of clouds.</p>
<ul>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">radial_distr</span></tt>:{list}</dt>
<dd><p class="first last"><span class="math">\((\mu_R,FWHM_R, R_{bar})\)</span> parameters to the  Galactic radius  distribution of the clouds,
assumed Gaussian. The last parameters is the postition of the bar tip.
Default  <span class="math">\(\mu_R= 5.3 \, ,\sigma_R=FWHM_R/\sqrt(2 \ln 2)= 2.12,\, R_{bar}=3 \, kpc\)</span>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">thickness_distr</span></tt>:{list}</dt>
<dd><p class="first last"><span class="math">\((FWHM_{z,0}, R_{z,0})\)</span> parameters to the vertical thickness of the Galactic plane
increasing in the outer Galaxy with <span class="math">\(\sigma(z)=sigma_z(0) *cosh(R/R_{z,0})\)</span>.
Default  <span class="math">\(\sigma_{z,0}=0.1 \, , R_{z,0}=9\)</span> kpc.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">emissivity</span></tt>:{list}</dt>
<dd><p class="first last">Parameters to the emissivity radial profile, <span class="math">\(\epsilon(R)= \epsilon_0 \exp(- R/R_0)\)</span>.
Default Heyer and Dame 2015 values : <span class="math">\(\epsilon_0=60\, K km/s,\, R_0=3.6 \, kpc\)</span>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">typical_size</span></tt>: {scalar}</dt>
<dd><p class="first last">Typical size of molecular clouds where we observe the peak in the size distribution function.
Default <span class="math">\(L_0=10\)</span> pc.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt id="cloudmodel.MCMole3D.Cloud_Population.sizes">
<tt class="descname">sizes</tt><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.sizes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.sizes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Cloud_Population.write2hdf5">
<tt class="descname">write2hdf5</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Cloud_Population.write2hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Cloud_Population.write2hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Write onto an hfd5 file the whole catalogue</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudmodel.MCMole3D.Collect_Clouds">
<em class="property">class </em><tt class="descclassname">cloudmodel.MCMole3D.</tt><tt class="descname">Collect_Clouds</tt><big>(</big><em>N_pops</em>, <em>model</em>, <em>Ncl=4000</em>, <em>filestring=None</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Collect_Clouds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Collect_Clouds" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudmodel.MCMole3D.Cloud_Population" title="cloudmodel.MCMole3D.Cloud_Population"><tt class="xref py py-class docutils literal"><span class="pre">cloudmodel.MCMole3D.Cloud_Population</span></tt></a></p>
<p>List of <cite>Cloud_population</cite> classes . Read from output</p>
<dl class="method">
<dt id="cloudmodel.MCMole3D.Collect_Clouds.concatenate_arrays">
<tt class="descname">concatenate_arrays</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Collect_Clouds.concatenate_arrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Collect_Clouds.concatenate_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate arrays of several <a class="reference internal" href="#cloudmodel.MCMole3D.Cloud_Population" title="cloudmodel.MCMole3D.Cloud_Population"><tt class="xref py py-class docutils literal"><span class="pre">Cloud_Population</span></tt></a> objects  to process all of these quantities together</p>
</dd></dl>

<dl class="method">
<dt id="cloudmodel.MCMole3D.Collect_Clouds.write2hdf5">
<tt class="descname">write2hdf5</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/MCMole3D.html#Collect_Clouds.write2hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.MCMole3D.Collect_Clouds.write2hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Write onto an hfd5 file the whole catalogue</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cloudmodel.mapping">
<span id="cloudmodel-mapping-module"></span><h2>cloudmodel.mapping module<a class="headerlink" href="#module-cloudmodel.mapping" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="cloudmodel.mapping.cosine_apodization">
<tt class="descclassname">cloudmodel.mapping.</tt><tt class="descname">cosine_apodization</tt><big>(</big><em>x</em>, <em>d</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/mapping.html#cosine_apodization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.mapping.cosine_apodization" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooth the emissivity of the cloud with a cosine function, with the following relation:</p>
<div class="math">
\[\epsilon(x) = \epsilon_c \cos ( frac{\pi}{2} frac{x}{d})\]</div>
<p>here <span class="math">\(d\)</span> is the border of the cloud, i.e. the radius of the cloud, in such a      way that the  <span class="math">\(\epsilon(d)=0\)</span>.</p>
</dd></dl>

<dl class="function">
<dt id="cloudmodel.mapping.distance_from_cloud_center">
<tt class="descclassname">cloudmodel.mapping.</tt><tt class="descname">distance_from_cloud_center</tt><big>(</big><em>theta</em>, <em>phi</em>, <em>theta_c</em>, <em>phi_c</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/mapping.html#distance_from_cloud_center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.mapping.distance_from_cloud_center" title="Permalink to this definition">¶</a></dt>
<dd><p>given a position of one pixel <span class="math">\((theta,\phi)\)</span> within the cloud compute the arclength
of the pixel from the center, onto a unitary sphere.  by considering scalar products of vectors
to the points  on the sphere to get the angle <span class="math">\(\psi\)</span> between them.
This routine is exploited by <a class="reference internal" href="#cloudmodel.mapping.do_healpy_map" title="cloudmodel.mapping.do_healpy_map"><tt class="xref py py-func docutils literal"><span class="pre">do_healpy_map()</span></tt></a>.</p>
<p>see for reference :
<a class="reference external" href="http://math.stackexchange.com/questions/231221/great-arc-distance-between-two-points-on-a-unit-sphere">Arclength on a sphere</a></p>
</dd></dl>

<dl class="function">
<dt id="cloudmodel.mapping.do_healpy_map">
<tt class="descclassname">cloudmodel.mapping.</tt><tt class="descname">do_healpy_map</tt><big>(</big><em>Pop</em>, <em>nside</em>, <em>fname</em>, <em>apodization='gaussian'</em>, <em>polangle=None</em>, <em>depol_map=None</em>, <em>p=0.01</em>, <em>highgalcut=0.0</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/mapping.html#do_healpy_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.mapping.do_healpy_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Projects the cloud  population into an <tt class="xref py py-mod docutils literal"><span class="pre">healpy</span></tt> map as seen as an observer in the  solar circle.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">Pop</span></tt> :</dt>
<dd><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">MCMole3D.Cloud_Population</span></tt></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">nside</span></tt>:{int}</dt>
<dd><p class="first last">Healpix  grid parameter</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">fname</span></tt>:{str}</dt>
<dd><p class="first last">path to the fits file where to store the map</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">apodization</span></tt>:{str}</dt>
<dd><p class="first last">profile of the cloud (either <cite>gaussian</cite> or <cite>cos</cite>)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">polangle</span></tt>:{np.array or map}</dt>
<dd><p class="first last">the angle of polarization</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">depol_map</span></tt>:{map}</dt>
<dd><p class="first last">the depolarization map due to line of sight effects</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">p</span></tt>: {float}</dt>
<dd><p class="first last">polarization fraction ( default 1%)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">highgalcut</span></tt>: {float}</dt>
<dd><p class="first last">angle in radians to exclude clouds at high galactic latitudes, <cite>sin(b)&lt;= sin(angle)</cite>;</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if <cite>polangle</cite> is set this routine produces      even polarization maps, i.e. the Q and U Stokes parameters.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="cloudmodel.mapping.gaussian_apodization">
<tt class="descclassname">cloudmodel.mapping.</tt><tt class="descname">gaussian_apodization</tt><big>(</big><em>x</em>, <em>d</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/mapping.html#gaussian_apodization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.mapping.gaussian_apodization" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooth the emissivity of the cloud with a gaussian profile, centered in the center of the cloud and with sigma defined in such a way that:</p>
<div class="math">
\[d = 6 \sigma\]</div>
<p>where <span class="math">\(d\)</span> is the border of the cloud, coinciding with size of the cloud.</p>
</dd></dl>

</div>
<div class="section" id="module-cloudmodel.utils">
<span id="cloudmodel-utils-module"></span><h2>cloudmodel.utils module<a class="headerlink" href="#module-cloudmodel.utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="cloudmodel.utils.integrate_intensity_map">
<tt class="descclassname">cloudmodel.utils.</tt><tt class="descname">integrate_intensity_map</tt><big>(</big><em>Imap</em>, <em>nside</em>, <em>latmin=-2</em>, <em>latmax=2.0</em>, <em>nsteps_long=500</em>, <em>rad_units=False</em>, <em>planck_map=False</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/utils.html#integrate_intensity_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.utils.integrate_intensity_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the integral of the intensity map along latitude and longitude; to compare observed
intensity map and the model one.
To check consistency of the model we compute the integral as in eqs.(6) and (7) of
<a class="reference external" href="http://arxiv.org/abs/1701.07856">Puglisi+ 2017</a>.</p>
<p><em>Parameters</em></p>
<ul>
<li><dl class="first docutils">
<dt><cite>Imap</cite>:{array}</dt>
<dd><p class="first last">intensity map</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>nside</cite>: {int}</dt>
<dd><p class="first last"><tt class="xref py py-mod docutils literal"><span class="pre">healpy</span></tt> gridding parameter</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>latmin</cite>, <cite>latmax</cite>:{double}</dt>
<dd><p class="first last">minimum and maximum latitudes in <cite>degree</cite> where to perform the integral (default <span class="math">\(\pm 2\, deg\)</span>)
if you have the angles in radiants set <cite>rad_units</cite> to <cite>True</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>nsteps_long</cite>:{int}</dt>
<dd><p class="first last">number of longitudinal bins, (default 500)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>planck_map</cite>:{bool}</dt>
<dd><p class="first last">if set to <cite>True</cite>, it sets to zero all  the <tt class="xref py py-mod docutils literal"><span class="pre">healpy.UNSEEN</span></tt> masked pixels of the map,
(useful when dealing with observational maps).</p>
</dd>
</dl>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><dl class="first docutils">
<dt><cite>I_l</cite> :{array}</dt>
<dd><p class="first last">latitude integration within the set interval <span class="math">\([b_{min}, b_{max}]\)</span></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>I_tot</cite>:{double}</dt>
<dd><p class="first last">integration of <cite>I_l</cite> in <span class="math">\(\ell \in [0,2 \pi]\)</span>.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="cloudmodel.utils.log_spiral_radial_distribution2">
<tt class="descclassname">cloudmodel.utils.</tt><tt class="descname">log_spiral_radial_distribution2</tt><big>(</big><em>rbar</em>, <em>phi_bar</em>, <em>n</em>, <em>rloc</em>, <em>sigmar</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/utils.html#log_spiral_radial_distribution2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.utils.log_spiral_radial_distribution2" title="Permalink to this definition">¶</a></dt>
<dd><p>values of pitch angle from <a class="reference external" href="https://arxiv.org/abs/1505.01202">Vallee&#8216;2015</a>  <span class="math">\(i=12\)</span> deg.</p>
<p><em>Parameters</em></p>
<ul>
<li><dl class="first docutils">
<dt><cite>rbar</cite>: {float}</dt>
<dd><p class="first last">Galactic radius [kpc] where the bar begins</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>phi_bar</cite>: {float}</dt>
<dd><p class="first last">angle <span class="math">\(\phi_0\)</span> of the bar tip</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>n</cite>:{int}</dt>
<dd><p class="first last">number of clouds to be distributed following the logspiral geometry</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>rloc</cite>,`sigmar`:{floats}</dt>
<dd><p class="first last">Location and width of  molecular ring in kpc.</p>
</dd>
</dl>
</li>
</ul>
<p><em>Return</em></p>
<ul>
<li><dl class="first docutils">
<dt><cite>r</cite>, <cite>phi</cite>: {arrays}</dt>
<dd><p class="first last">array (<cite>n</cite>-size) of  galactic radii and azimut angle following a logspiral distribution</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="cloudmodel.utils.pixelsize">
<tt class="descclassname">cloudmodel.utils.</tt><tt class="descname">pixelsize</tt><big>(</big><em>nside</em>, <em>arcmin=True</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/utils.html#pixelsize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.utils.pixelsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <cite>nside</cite> <tt class="xref py py-mod docutils literal"><span class="pre">healpy</span></tt> gridding  parameter  returns the pixel size of the chosen pixelization in arcmin (or in radians if <cite>arcmin= False</cite>)</p>
</dd></dl>

<dl class="function">
<dt id="cloudmodel.utils.plot_2powerlaw_size_function">
<tt class="descclassname">cloudmodel.utils.</tt><tt class="descname">plot_2powerlaw_size_function</tt><big>(</big><em>s0</em>, <em>s1</em>, <em>s2</em>, <em>figname=None</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/utils.html#plot_2powerlaw_size_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.utils.plot_2powerlaw_size_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot histograms and Probability function of the cloud size function     as explained in eq.(4) and (5) of <a class="reference external" href="http://arxiv.org/abs/1701.07856">Puglisi+ 2017</a>.</p>
<p>It is defined by three parameters : <cite>s0</cite>,       <cite>s1</cite>,`s2`, being respectively the,        typical cloud size (where the size function peaks), the minimum and the maximum sizes. Thus <span class="math">\(s_1&lt;s_0&lt;s_2\)</span>.</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Set <cite>figname</cite> to the path of your file where  to  save the plot, otherwise  it outputs to screen.</p>
</div>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="cloudmodel.utils.plot_intensity_integrals">
<tt class="descclassname">cloudmodel.utils.</tt><tt class="descname">plot_intensity_integrals</tt><big>(</big><em>obs_I</em>, <em>mod_I</em>, <em>model=None</em>, <em>figname=None</em><big>)</big><a class="reference internal" href="_modules/cloudmodel/utils.html#plot_intensity_integrals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmodel.utils.plot_intensity_integrals" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Plot the intensity integrals computed with <a class="reference internal" href="#cloudmodel.utils.integrate_intensity_map" title="cloudmodel.utils.integrate_intensity_map"><tt class="xref py py-func docutils literal"><span class="pre">integrate_intensity_map()</span></tt></a> for both</dt>
<dd><p class="first">the obseverved  maps(<cite>obs_I</cite>) and the one simulated with MCMole3D <cite>mod_I</cite>.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Set <cite>figname</cite> to the path of your file where  to  save the plot, otherwise  it outputs to screen.</li>
<li>Set <cite>model</cite> to put the title and the</li>
</ul>
</div>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-cloudmodel">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cloudmodel" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          
          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/Documentation.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2017, Giuseppe Puglisi.
      Last updated on Jun 28, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>